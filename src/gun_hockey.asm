SECTION "Gun Hockey", ROM0
INCLUDE "img/bg_tiles.asm"

BackgroundTiles:
  DB $4,$6,$6,$6,$6,$6,$6,$6,$6,$6,$6,$6,$6,$6,$6,$6,$6,$6,$6,$5
  DB $1,$3,$3,$3,$3,$3,$3,$A,$A,$A,$D,$D,$D,$3,$3,$3,$3,$3,$3,$2
  DB $1,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$2
  DB $1,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$2
  DB $1,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$2
  DB $1,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$2
  DB $1,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$2
  DB $1,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$2
  DB $1,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$2
  DB $1,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$2
  DB $1,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$2
  DB $1,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$2
  DB $1,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$2
  DB $1,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$2
  DB $1,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$2
  DB $1,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$2
  DB $1,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$3,$2
  DB $7,$9,$9,$9,$9,$9,$9,$9,$9,$9,$9,$9,$9,$9,$9,$9,$9,$9,$9,$8


GunHockey::
  di
  DISPLAY_OFF
  ld a, DMG_PAL_INVERT
  ld [rBGP], a

  ld hl, _BgTilesTiles
  ld de, _VRAM9000
  ld bc, _BG_TILES_TILE_COUNT*16
  call mem_CopyVRAM

  ld bc, BackgroundTiles
  ld de, 0
  ld hl, $1412
  call gbdk_SetBkgTiles

  xor a
  ld hl, PaletteGunHockey
  call GBCSetPalette

  PLAY_SONG tessie_data, 1

  DISPLAY_ON
  ei

.loop
    UPDATE_INPUT_AND_JUMP_TO_IF_BUTTONS .exit, PADF_A | PADF_START
    jr .loop
.exit
  ret